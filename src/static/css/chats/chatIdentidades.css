/* bloqueá el scroll global */
html, body { height:100%; overflow:hidden; }

/* padres sin overflow y con altura real de viewport */
.app, .main, .content, .col-identidades{
  height: 100dvh;        /* usa 100vh si tu navegador no soporta dvh */
  min-height: 0;
  overflow: hidden;
}

/* tarjeta en GRID: [título] [buscador] [lista (scroll)] [footer] */
:root{
  --topbar-h: 70px;    /* ajustá a tu navbar */
  --card-bg: #0b1222;
}

.id-card{
  display: grid;
  grid-template-rows: auto auto 1fr auto;   /* ← clave */
  height: calc(100dvh - var(--topbar-h));
  max-height: calc(100dvh - var(--topbar-h));
  background: var(--card-bg);
  border: 1px solid var(--border);
  border-radius: 12px;
  overflow: hidden;     /* el único scroll vive en la fila 3 */
  box-sizing: border-box;
}

/* título */
.id-card > h4{
  margin: 12px 12px 8px;
}

/* buscador */
.id-card .panel-header{
  padding: 8px 12px;
  border-top: 1px solid transparent;  /* para separar si querés */
  border-bottom: 1px solid var(--border);
  background: var(--card-bg);
}

/* LISTA scrolleable (fila 3) */
.id-accordion{
  min-height: 0;        /* imprescindible en grid/flex para permitir scroll */
  overflow: auto;       /* único scroll */
  padding: 8px 12px;
  scroll-behavior: smooth;
}

/* FOOTER fijo (fila 4) */
.id-footer{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding: 10px 12px;
  border-top: 1px solid var(--border);
  background: var(--card-bg);
  box-shadow: 0 -6px 12px rgba(0,0,0,.25);
  /* sin sticky, sin absolute: el grid lo mantiene siempre visible */
}

/* opcional: scrollbar más prolija */
.id-accordion::-webkit-scrollbar{ width:10px; }
.id-accordion::-webkit-scrollbar-thumb{ background:#1f2a44; border-radius:8px; }
.id-accordion{ scrollbar-width: thin; }



/* === Layout deslizante para móvil === */
@media (max-width: 768px){

  .layout-chat {                /* tu contenedor general */
    display: flex;
    width: 300%;                /* tres paneles lado a lado */
    transition: transform .4s ease-in-out;
  }

  .col-identidades,
  .col-ambitos,
  .col-chat {
    width: 100%;
    flex-shrink: 0;
    height: 100dvh;
    min-height: 0;
    overflow: hidden;
  }

  /* Estado inicial → muestra Identidades */
  html:not(.slide-ambitos):not(.slide-chat) .layout-chat {
    transform: translateX(0);
  }

  /* Al abrir Ámbitos */
  html.slide-ambitos .layout-chat {
    transform: translateX(-100%);
  }

  /* Al abrir Chat */
  html.slide-chat .layout-chat {
    transform: translateX(-200%);
  }
}




/* El card de Identidades es una columna: header arriba, lista ocupa el resto, footer abajo */
.id-card{
  display: flex;
  flex-direction: column;
  min-height: 0;  /* clave para que el hijo pueda scrollear */
}

/* Las partes superiores NO deben “empujar” */
.id-card .panel-header,
.id-card .search,
.id-card .search-tabs{
  flex: 0 0 auto;
}

/* La lista es el área scrolleable que arranca ARRIBA */
.id-accordion{
  flex: 1 1 auto;          /* ocupa el espacio libre */
  min-height: 0;           /* permite overflow en flex */
  overflow: auto;          /* scroll vertical acá */
  display: block !important;
  margin-top: 0 !important;
  justify-content: flex-start !important;
  align-content: flex-start !important;
  align-items: stretch !important;
}

/* Si tenés un footer dentro de la tarjeta, que no empuje */
.id-footer{
  flex: 0 0 auto;
}

/* Por si algún utilitario te lo estaba tirando al fondo */
.id-accordion, .id-accordion *{
  margin-block-end: 0 !important;   /* evita márgenes colapsados que “bajan” */
}
